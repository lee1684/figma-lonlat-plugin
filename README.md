# Figma의 위경도 좌표 변환 및 시각화 프로젝트

## 프로젝트 개요

### 프로젝트 목표

이 프로젝트의 목표는 피그마(Figma)에서 디자인된 레이어의 위치와 크기 정보를 수집하고, 이를 오픈스트리트맵(OpenStreetMap) 기반의 지도에 매핑하여 사용자에 의해 설정된 기준점에 따라 레이어의 위치 정보를 지도상의 위경도 좌표로 변환하는 시스템을 개발하는 것입니다. 이를 통해 디자인 요소를 지도에 정확히 배치하고 지리적 데이터를 효과적으로 관리할 수 있는 도구를 제공하는 것을 목표로 합니다.

## 플러그인의 주요 기능

### 1. Figma 컴포넌트를 지도에 표시

- 사용자가 Figma에서 선택한 컴포넌트를 플러그인 내의 지도에 폴리곤 형태로 시각화합니다.
- Figma에서는 부모 컴포넌트를 포함한 모든 자식 컴포넌트가 같이 선택되지만, 플러그인 지도에서는 최상위 부모 컴포넌트만 그려지도록 구현되었습니다.

### 2. 컴포넌트 드래그, 리사이즈 및 회전

- 폴리곤의 위치 조정을 위한 드래그 기능을 제공합니다.
- 폴리곤의 네 꼭지점에서 핸들(파란색 원)을 드래그하여 폴리곤의 크기를 조정할 수 있으며, 동시에 회전도 가능합니다.

### 3. Figma 컴포넌트로의 Export

- "피그마로 보내기" 버튼을 통해 자식 컴포넌트를 모두 포함하여 Figma에 컴포넌트를 생성합니다.
- 새로 생성된 컴포넌트는 첫 번째 자식 레이어로써 위경도 좌표 데이터를 저장합니다.

### 4. Export 된 Figma 컴포넌트의 플러그인으로의 Import

- 플러그인으로부터 Export 된 컴포넌트를 다시 Import 하여 폴리곤을 지도에 표시할 수 있습니다.
- Coordinates Layer에 명시된 위경도 좌표에 따라 지도에 폴리곤이 표시됩니다.

### 5. JSON 파일로의 Export

- Figma에서 선택된 컴포넌트의 모든 자식 컴포넌트를 포함한 SVG 데이터를 담고 있는 JSON 파일을 다운로드할 수 있습니다.
- JSON 파일은 최상위 부모 컴포넌트의 위치 정보도 포함하여 저장합니다.

### 6. Export 된 JSON 파일의 플러그인으로의 Import

- 다운로드 받은 JSON 파일을 플러그인에 업로드하여 지도에 폴리곤을 표시합니다.
- "피그마로 보내기" 버튼을 통해 Figma에 업로드한 JSON의 SVG를 기반으로 새로운 Figma 컴포넌트를 생성합니다.

### 7. CSV 파일로의 위경도 좌표 Export

- 선택된 모든 컴포넌트의 위치 정보(x, y, width, height, geometry)를 CSV 파일로 다운로드할 수 있습니다.
- parent_id 정보도 포함되어 있어 부모 컴포넌트와의 관계를 파악할 수 있습니다.

### 8. SVG 오버레이 추가

- 사용자가 선택한 Figma 컴포넌트의 SVG를 지도상의 폴리곤 위에 오버레이로 입히는 기능을 제공합니다.
- 폴리곤의 인터랙션(회전, 리사이즈, 줌 레벨 변경) 시 SVG가 잠시 사라지고, 인터랙션이 끝난 후에 다시 생성됩니다.

### 9. 폴리곤 모양 변형 기능

- Ctrl 키를 누른 상태에서 폴리곤의 코너를 드래그하여 사각형의 모양을 변형할 수 있습니다.
- 이 기능 사용 시 기존 SVG 오버레이는 제거됩니다.
